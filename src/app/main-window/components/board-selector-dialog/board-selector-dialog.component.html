<div class="prompt-box bborder">
    <div class="header">
        <div class="title">{{ 'BOARD_SELECTOR.TITLE' | translate }}</div>
        <div class="win-btns">
            <div class="btn ccenter close" (click)="cancel()" [class.disabled]="isLoading">
                <i class="fa-light fa-xmark"></i>
            </div>
        </div>
    </div>
    <div class="content" [class.loading]="isLoading">
        <!-- 加载状态覆盖层 -->
        <!-- @if(isLoading) {
        <div class="loading-overlay">
        </div>
        } -->
        <!-- 搜索框 -->
        <div class="search-box">
            <input nz-input [(ngModel)]="searchKeyword" (ngModelChange)="onSearch()" [placeholder]="'BOARD_SELECTOR.SEARCH_PLACEHOLDER' | translate"
                class="search-input" [disabled]="isLoading" />
        </div>

        <!-- 选择开发板列表 -->
        <div class="board-list sscroll">
            @if(filteredBoardList.length === 0) {
            <div class="empty-list">
                <i class="fa-light fa-inbox"></i>
                <span>{{ 'BOARD_SELECTOR.EMPTY_LIST' | translate }}</span>
            </div>
            }
            @for(board of filteredBoardList; track board.name) {
            <div class="board-item" [class.selected]="selectedBoard?.name === board.name" [class.disabled]="isLoading"
                (click)="!isLoading && selectBoard(board)">
                <div class="board-img ccenter">
                    <img [src]="resourceUrl+board.img" />
                </div>
                <div class="board-info">
                    <div class="board-name">{{ board.nickname }}
                        @if(board.state){
                        <span>({{board.state}})</span>
                        }
                    </div>
                    <!-- @if(board.data?.board?.description) {
                    <div class="board-desc">{{ board.data.board.description }}</div>
                    } -->
                    @if(board.brand) {
                    <div class="board-brand">{{ board.brand }}</div>
                    }
                </div>
                @if(selectedBoard?.name === board.name) {
                <i class="fa-solid fa-circle-check check-icon"></i>
                }
            </div>
            }
        </div>

        <div class="footer">
            <button nz-button [nzSize]="'small'" nzType="default" (click)="cancel()" [disabled]="isLoading">{{ 'BOARD_SELECTOR.CANCEL' | translate }}</button>
            <button nz-button [nzSize]="'small'" nzType="primary" [disabled]="!selectedBoard || isLoading"
                [nzLoading]="isLoading" (click)="confirm()">{{ 'BOARD_SELECTOR.CONFIRM' | translate }}</button>
        </div>
    </div>
</div>