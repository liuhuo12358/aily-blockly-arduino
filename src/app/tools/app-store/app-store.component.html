@if (currentUrl == "/code-viewer") {
<app-sub-window [title]="windowInfo | translate" [winBtns]="['go-main', 'minimize', 'maximize', 'close']">
    <ng-container *ngTemplateOutlet="windowBoxTemplate"></ng-container>
</app-sub-window>
} @else {
<app-tool-container [title]="windowInfo | translate" (closeEvent)="close()">
    <ng-container *ngTemplateOutlet="windowBoxTemplate"></ng-container>
</app-tool-container>
}
<ng-template #windowBoxTemplate>
    <div class="app-store-container">
        <!-- <div class="app-store-header">
            <button class="reset-btn" (click)="resetToDefault()">
                <i class="fa-light fa-rotate-left"></i>
                {{ 'APP_STORE.RESET' | translate }}
            </button>
        </div> -->

        <div class="app-store-content">
            <!-- 左侧主内容区 -->
            <div class="main-content">
                <!-- Header 区域：前6个 -->
                <div class="section-title">
                    <i class="fa-light fa-window-flip"></i>
                    {{ 'APP_STORE.TOOLBAR_APPS' | translate }}
                </div>
                <div class="app-grid header-zone" #headerZone>
                    @for (app of headerZoneApps; track app.id; let i = $index) {
                    <div class="app-card" [attr.data-id]="app.id" [class.dev]="app.dev" (dblclick)="openApp(app)">
                        <div class="app-icon">
                            <i class="{{ app.icon }}"></i>
                        </div>
                        <div class="app-name">
                            {{ app.name | translate}}
                        </div>
                    </div>
                    }
                </div>

                <!-- 所有应用区域 -->
                <div class="section-title">
                    <i class="fa-light fa-grid-3"></i>
                    {{ 'APP_STORE.ALL_APPS' | translate }}
                </div>
                <div class="app-grid other-zone" #otherZone>
                    @for (app of otherZoneApps; track app.id) {
                    <div class="app-card" [attr.data-id]="app.id" [class.dev]="app.dev" (dblclick)="openApp(app)">
                        <div class="app-icon">
                            <i class="{{ app.icon }}"></i>
                        </div>
                        <div class="app-name">
                            {{ app.name | translate }}
                        </div>
                    </div>
                    }
                </div>
            </div>

            <!-- 右侧侧边栏区域 -->
            <div class="sidebar-content">
                <div class="section-title">
                    <i class="fa-light fa-sidebar-flip"></i>
                    {{ 'APP_STORE.SIDEBAR_APPS' | translate }}
                </div>
                <div class="app-grid sidebar-zone" #sidebarZone>
                    @for (app of sidebarZoneApps; track app.id) {
                    <div class="app-card" [attr.data-id]="app.id" [class.dev]="app.dev" (dblclick)="openApp(app)">
                        <div class="app-icon">
                            <i class="{{ app.icon }}"></i>
                        </div>
                        <div class="app-name">
                            {{ app.name | translate }}
                        </div>
                    </div>
                    }
                </div>
            </div>
        </div>
    </div>
</ng-template>